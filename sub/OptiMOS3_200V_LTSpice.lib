* INFINEON Power Transistors                                    *
* LTSPICE Library                                               *
*                                                               *
*                                                               *
* Version 230720                                                *
*                                                               *
*****************************************************************
*                                                               *
* The Simulation Model is subject to change without notice. In  *
* addition, models can be a useful tool in evaluating device    *
* performance, they cannot reflect the accurate device          *
* performance under all conditions, nor are they intended to    *
* replace bread boarding for final verification. Infineon       *
* therefore does not assume any warranty or liability           *
* whatsoever arising from their use. Infineon does not assume   *
* any warranty or liability for the values and functions of the *
* Simulation Model.                                             *
* The methods and results of the Simulation Model are to the    *
* best of our knowledge                                         *
* correct. However, the user is fully responsible to verify and *
* validate these results under the operating conditions and in  *
* the environment of its application. Infineon will not bear    *
* the responsibility arising out of or in connection with any   *
* malfunction of the Simulation Models.                         *
* Models provided by Infineon are not warranted by Infineon as  *
* completely and comprehensively representing all the           *
* specifications and operating characteristics of the           *
* semiconductor products to which these models relate. The      *
* models describe the characteristics of typical devices. In    *
* all cases, the current data sheet information for a given     *
* device is the conclusive design guideline and the only actual *
* performance specification.                                    *
*                                                               *
*                                                               *
* This library contains electrical models of the following      *
* Infineon transistors:                                         *
*                                                               *
*   BSC12DN20NS3        BSC220N20NSFD       BSC22DN20NS3        *
*   BSC320N20NS3        BSC350N20NSFD       BSC500N20NS3        *
*   BSC900N20NS3        BSZ12DN20NS3        BSZ22DN20NS3        *
*   BSZ900N20NS3        IPA320N20NM3S       IPB107N20N3         *
*   IPB107N20NA         IPB117N20NFD        IPB320N20N3         *
*   IPD320N20N3         IPI110N20N3         IPI320N20N3         *
*   IPP110N20N3         IPP110N20NA         IPP120N20NFD        *
*   IPP320N20N3         IPT111N20NFD        IRF200P222          *
*   IRF200P223                                                  *
*                                                               *
*****************************************************************
* thermal nodes of level 3 models:                              *
*                                                               *
*  .SUBCKT BSC12DN20NS3 drain gate source Tj Tcase              *
*  Tj :    potential=temperature (in °C) at junction (typically *
*          not connected)                                       *
*  Tcase : node where the boundary condition - external heat    *
*          sinks etc - have to be connected (ideal heat sink    *
*          can be modeled by using a voltage source stating the *
*          ambient temperature in °C between Tcase and ground.  *
*                                                               *
*****************************************************************

.options Thev_Induc=1

.SUBCKT S3_200_n_var dd g s0 sp Tj PARAMS: a=1 Rsp=1 dVth=0 dR=0 dgfs=0 Inn=1
+Unn=1 Rmax=1 gmin=1 Rs=1 Rp=1 dC=0 Rm=1u

.PARAM b0=12.04       p0=9.1         p1=-33.65m     p2=55u         mubet=1.5      fbet=0
.PARAM Vth0=3.7       c=950m         Fm=80m         Fn=500m        al=500m        auth=4.2m
.PARAM dvx=550m       dvgs=-150m     auth_sub=4.2m

.PARAM Rd=205m        rpara=4.3m     nmu=3.1        Rf=200m

.PARAM lnIsj=-27      ndi=1.12       Rdi=30m        nmu2=-16.5m    n_Isj=3        UB=216
.PARAM ab=167m        ab2=0          UT=100m        lB=-23         ta=60n

.PARAM kbq=85.8u      Tref=298       T0=273

.PARAM f3=197p        rc1=60p

.PARAM f4=3.6p        f5=3p          sl=0.1p        ps1=14p        ps2=-2         ps3=10p
.PARAM ps4=-100m      ps5=0.05p      ps6=5p         ps7=0

.PARAM q83=11p        q84=-6.67m

.PARAM q80=272p       q81=45p        q82=8p         qs1=9p         qs2=35p        qs3=-2
.PARAM qs4=185p       qs5=-66.7m     f2r=0

.PARAM x1={(q80-q81)/q82}       x2={q80/q82}
.PARAM y1={(f4-f5)/sl}          y2={f4/sl}
.PARAM Vmin=2.7       Vmax=4.7       dCmax=330m
.PARAM Vth={Vth0+(Vmax-Vth0)*limit(dVth,0,1)-(Vmin-Vth0)*limit(dVth,-1,0)}
.PARAM q0={b0*((1-fbet)*(T0/Tref)**mubet+fbet)*a}
.PARAM q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM q2={(Fm*SQRT(0.4)-c)*Inn*q0}
.PARAM Rlim={((q1+2*q2*Rmax-SQRT(q1**2+4*q2))/(2*q2))/(1+rpara*(Inn/a)**2)}
.PARAM dRd={Rd/a+if(dVth==0,limit(dR,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM bm={c/((1/gmin-Rs)**2*Inn*a*((1-fbet)*(T0/Tref)**mubet+fbet))}
.PARAM bet={b0+(b0-bm)*if(dR==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM dC1={1+dCmax*limit(dC,0,1)}
.PARAM dC2={1+dCmax*limit(dC,0,1)}

.PARAM Cgs0={(f3*a+rc1)*dC1}

.PARAM Cds3={q83*a*dC1}
.PARAM Cds5={qs1*a*dC1}
.PARAM Cds6={(a*qs2*(1+f2r/sqrt(a)))*dC1}
.PARAM Cds7={qs4*a*dC1}
.PARAM Cds8={q80*a*dC1}

.PARAM Cdg1={a*ps1*dC2}
.PARAM Cdg2={ps3*a*dC2}
.PARAM Cdg3={(ps5*a+ps6)*dC2}
.PARAM Cdg4={f4*a*dC2}
.PARAM dRdi={Rdi/a}

.FUNC Ue(g,y,w)  {(g-Vth+auth*(w-Tref)+Fm*y**Fn)}
.FUNC Ue1(g,y,w) {Ue(g,y,w)+(1+limit(Ue(g,y,w)+dvx,0,1)**2*(2*limit(Ue(g,y,w)+dvx,0,1)-3))*(dvgs+(auth_sub-auth)*(w-Tref))}

.FUNC I0(Uee,p,pp,z1) {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC Ih(Uds,T,p,Uee) {bet*((1-fbet)*(T0/T)**mubet+fbet)*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC Jh(d,g,w,y,s,x) {a*((Ih(s*y+min(d,0),w,(p0+(p1+p2*w)*w)*kbq*w,Ue1(g,y,w))+exp(min(lB+(d-UB-ab*(w-Tref))/UT,24))))}

.FUNC Idiode(Usd,Tj,Iss) {exp(min(ln(Iss)+Usd/(ndi*kbq*Tj),7))-Iss}
.FUNC Idiod(Usd,Tj)      {a*Idiode(Usd,Tj,exp(min(lnIsj+(Tj/Tref-1)*1.12/(ndi*kbq*Tj),7))*(Tj/Tref)**n_Isj)}

.FUNC Pr(Vss0,Vssp)  {Vss0*Vss0/Rm+Vssp*Vssp/Rsp}
.FUNC Q01(Uds) {a*(limit(Uds,x1,x2)*(q80-q82/2*limit(Uds,x1,x2))+min(Uds-x1,0)*q81-max(x1,0)*(q80-q81)/2)}
.FUNC Q02(Udg) {a*(limit(Udg,y1,y2)*(f4-sl/2*limit(Udg,y1,y2))+min(Udg-y1,0)*f5-max(y1,0)*(f4-f5)/2)}

C_Cgs  g      s      {Cgs0}

E_Eds3 d      edep3  VALUE {if(q84==0,0,V(d,s)-(exp(q84*max(V(d,s),-1))-1)/min(q84,-1u)-min(V(d,s)+1,0)*exp(-q84))}
C_Cds3 edep3  s      {Cds3}

C_Cds5 d      sp     {Cds5}
E_Eds6 d      edep6  VALUE {if(qs3==0,0,V(d,sp)-(exp(qs3*max(V(d,sp),0))-1)/min(qs3,-1u)-min(V(d,sp),0))}
C_Cds6 edep6  sp     {Cds6}
E_Eds7 d      edep7  VALUE {if(qs5==0,0,V(d,sp)-(exp(qs5*max(V(d,sp),0))-1)/min(qs5,-1u)-min(V(d,sp),0))}
C_Cds7 edep7  sp     {Cds7}
E_Eds8 d      edep8  VALUE {V(d,sp)-Q01(V(d,sp))/Cds8}
C_Cds8 edep8  sp     {Cds8}

E_Edg1 d    ox1 VALUE {if(ps2==0,0,V(d,g)-(exp(ps2*max(V(d,g),0))-1)/min(ps2,-1u)-min(V(d,g),0))}
C_Cdg1 ox1  g   {Cdg1}
E_Edg2 d    ox2 VALUE =
+{if(ps4==0,0,V(d,g)-((exp(ps4*(max(V(d,g)+ps7,0)))-exp(ps4*max(ps7,0)))/min(ps4,-1u)+min(V(d,g)+max(ps7,0),max(0,-ps7))))}
C_Cdg2 ox2  g   {Cdg2}
C_Cdg3 d    g   {Cdg3}
E_Edg4 d    ox4 VALUE {V(d,g)-Q02(V(d,g))/Cdg4}
C_Cdg4 ox4  g   {Cdg4}

Rfp     s sp    {Rsp}

G_chan   d5a   s  VALUE={Jh(V(d5a,s),V(g,s),T0+limit(V(Tj),-200,300),(SQRT(1+4*al*max(V(d5a,s),0))-1)/2/al,sgn(V(d5a,s)),0)}
Rd06     d5a  d5  1u
V_sm     d    d5  0
G_RMos   d1    d  VALUE={V(d1,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)/(1+rpara*(I(V_sense)/a)**2)}
V_sense  dd   d1  0
G_Rdio   d2   d1  VALUE={V(d2,d1)/(dRdi*((limit(V(Tj),-200,999)+T0)/Tref)**nmu2)}
V_sense2 d2   d3  0

Dbody s d3 dbody
.model dbody D (BV= {UB*10},CJO ={Cds3/1000},TT ={ta},IS ={a*exp(lnIsj)} m={0.3} RS={dRdi*1m} n={ndi})


R1        g    s  1G
Rd01      d    s  500Meg
Rd02     d2    s  500Meg
Rd03     d1    d  1k
Rssp      g   sp  100Meg

Rmet      s    s0 {Rm}


G_TH      0   Tj  VALUE =
+{(I(V_sense)-I(V_sense2))*V(d1,d)+I(V_sm)*V(d,s)+I(V_sense2)*V(d1,s)+Pr(V(s,s0),V(s,sp))}


.ENDS

**********


.SUBCKT S3_200_n3_var dd g s0 sp Tj PARAMS: a=1 Rsp=1 dVth=0 dR=0 dgfs=0 Inn=1
+Unn=1 Rmax=1 gmin=1 Rs=1 Rp=1 dC=0 Rm=1u

.PARAM b0=12.04       p0=9.1         p1=-33.65m     p2=55u         mubet=1.5      fbet=0
.PARAM Vth0=3.7       c=950m         Fm=80m         Fn=500m        al=500m        auth=4.2m
.PARAM dvx=550m       dvgs=-150m     auth_sub=4.2m

.PARAM Rd=211m        rpara=4.3m     nmu=3.1        Rf=200m

.PARAM lnIsj=-27      ndi=1.12       Rdi=30m        nmu2=-16.5m    n_Isj=3        UB=216
.PARAM ab=167m        ab2=0          UT=100m        lB=-23         ta=45n

.PARAM kbq=85.8u      Tref=298       T0=273

.PARAM f3=197p        rc1=60p

.PARAM f4=3.6p        f5=3p          sl=0.1p        ps1=14p        ps2=-2         ps3=10p
.PARAM ps4=-100m      ps5=0.05p      ps6=5p         ps7=0

.PARAM q83=11p        q84=-6.67m

.PARAM q80=272p       q81=45p        q82=8p         qs1=9p         qs2=35p        qs3=-2
.PARAM qs4=185p       qs5=-66.7m     f2r=0

.PARAM x1={(q80-q81)/q82}       x2={q80/q82}
.PARAM y1={(f4-f5)/sl}          y2={f4/sl}
.PARAM Vmin=2.7       Vmax=4.7       dCmax=330m
.PARAM Vth={Vth0+(Vmax-Vth0)*limit(dVth,0,1)-(Vmin-Vth0)*limit(dVth,-1,0)}
.PARAM q0={b0*((1-fbet)*(T0/Tref)**mubet+fbet)*a}
.PARAM q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM q2={(Fm*SQRT(0.4)-c)*Inn*q0}
.PARAM Rlim={((q1+2*q2*Rmax-SQRT(q1**2+4*q2))/(2*q2))/(1+rpara*(Inn/a)**2)}
.PARAM dRd={Rd/a+if(dVth==0,limit(dR,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM bm={c/((1/gmin-Rs)**2*Inn*a*((1-fbet)*(T0/Tref)**mubet+fbet))}
.PARAM bet={b0+(b0-bm)*if(dR==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM dC1={1+dCmax*limit(dC,0,1)}
.PARAM dC2={1+dCmax*limit(dC,0,1)}

.PARAM Cgs0={(f3*a+rc1)*dC1}

.PARAM Cds3={q83*a*dC1}
.PARAM Cds5={qs1*a*dC1}
.PARAM Cds6={(a*qs2*(1+f2r/sqrt(a)))*dC1}
.PARAM Cds7={qs4*a*dC1}
.PARAM Cds8={q80*a*dC1}

.PARAM Cdg1={a*ps1*dC2}
.PARAM Cdg2={ps3*a*dC2}
.PARAM Cdg3={(ps5*a+ps6)*dC2}
.PARAM Cdg4={f4*a*dC2}
.PARAM dRdi={Rdi/a}

.FUNC Ue(g,y,w)  {(g-Vth+auth*(w-Tref)+Fm*y**Fn)}
.FUNC Ue1(g,y,w) {Ue(g,y,w)+(1+limit(Ue(g,y,w)+dvx,0,1)**2*(2*limit(Ue(g,y,w)+dvx,0,1)-3))*(dvgs+(auth_sub-auth)*(w-Tref))}

.FUNC I0(Uee,p,pp,z1) {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC Ih(Uds,T,p,Uee) {bet*((1-fbet)*(T0/T)**mubet+fbet)*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC Jh(d,g,w,y,s,x) {a*((Ih(s*y+min(d,0),w,(p0+(p1+p2*w)*w)*kbq*w,Ue1(g,y,w))+exp(min(lB+(d-UB-ab*(w-Tref))/UT,24))))}

.FUNC Idiode(Usd,Tj,Iss) {exp(min(ln(Iss)+Usd/(ndi*kbq*Tj),7))-Iss}
.FUNC Idiod(Usd,Tj)      {a*Idiode(Usd,Tj,exp(min(lnIsj+(Tj/Tref-1)*1.12/(ndi*kbq*Tj),7))*(Tj/Tref)**n_Isj)}

.FUNC Pr(Vss0,Vssp)  {Vss0*Vss0/Rm+Vssp*Vssp/Rsp}
.FUNC Q01(Uds) {a*(limit(Uds,x1,x2)*(q80-q82/2*limit(Uds,x1,x2))+min(Uds-x1,0)*q81-max(x1,0)*(q80-q81)/2)}
.FUNC Q02(Udg) {a*(limit(Udg,y1,y2)*(f4-sl/2*limit(Udg,y1,y2))+min(Udg-y1,0)*f5-max(y1,0)*(f4-f5)/2)}

C_Cgs  g      s      {Cgs0}

E_Eds3 d      edep3  VALUE {if(q84==0,0,V(d,s)-(exp(q84*max(V(d,s),-1))-1)/min(q84,-1u)-min(V(d,s)+1,0)*exp(-q84))}
C_Cds3 edep3  s      {Cds3}

C_Cds5 d      sp     {Cds5}
E_Eds6 d      edep6  VALUE {if(qs3==0,0,V(d,sp)-(exp(qs3*max(V(d,sp),0))-1)/min(qs3,-1u)-min(V(d,sp),0))}
C_Cds6 edep6  sp     {Cds6}
E_Eds7 d      edep7  VALUE {if(qs5==0,0,V(d,sp)-(exp(qs5*max(V(d,sp),0))-1)/min(qs5,-1u)-min(V(d,sp),0))}
C_Cds7 edep7  sp     {Cds7}
E_Eds8 d      edep8  VALUE {V(d,sp)-Q01(V(d,sp))/Cds8}
C_Cds8 edep8  sp     {Cds8}

E_Edg1 d    ox1 VALUE {if(ps2==0,0,V(d,g)-(exp(ps2*max(V(d,g),0))-1)/min(ps2,-1u)-min(V(d,g),0))}
C_Cdg1 ox1  g   {Cdg1}
E_Edg2 d    ox2 VALUE =
+{if(ps4==0,0,V(d,g)-((exp(ps4*(max(V(d,g)+ps7,0)))-exp(ps4*max(ps7,0)))/min(ps4,-1u)+min(V(d,g)+max(ps7,0),max(0,-ps7))))}
C_Cdg2 ox2  g   {Cdg2}
C_Cdg3 d    g   {Cdg3}
E_Edg4 d    ox4 VALUE {V(d,g)-Q02(V(d,g))/Cdg4}
C_Cdg4 ox4  g   {Cdg4}

Rfp     s sp    {Rsp}

G_chan   d5a   s  VALUE={Jh(V(d5a,s),V(g,s),T0+limit(V(Tj),-200,300),(SQRT(1+4*al*max(V(d5a,s),0))-1)/2/al,sgn(V(d5a,s)),0)}
Rd06     d5a  d5  1u
V_sm     d    d5  0
G_RMos   d1    d  VALUE={V(d1,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)/(1+rpara*(I(V_sense)/a)**2)}
V_sense  dd   d1  0
G_Rdio   d2   d1  VALUE={V(d2,d1)/(dRdi*((limit(V(Tj),-200,999)+T0)/Tref)**nmu2)}
V_sense2 d2   d3  0

Dbody s d3 dbody
.model dbody D (BV= {UB*10},CJO ={Cds3/1000},TT ={ta},IS ={a*exp(lnIsj)} m={0.3} RS={dRdi*1m} n={ndi})


R1        g    s  1G
Rd01      d    s  500Meg
Rd02     d2    s  500Meg
Rd03     d1    d  1k
Rssp      g   sp  100Meg

Rmet      s    s0 {Rm}


G_TH      0   Tj  VALUE =
+{(I(V_sense)-I(V_sense2))*V(d1,d)+I(V_sm)*V(d,s)+I(V_sense2)*V(d1,s)+Pr(V(s,s0),V(s,sp))}


.ENDS

**********


.SUBCKT S3_200_n2_var dd g s0 sp Tj PARAMS: a=1 Rsp=1 dVth=0 dR=0 dgfs=0 Inn=1
+Unn=1 Rmax=1 gmin=1 Rs=1 Rp=1 dC=0 Rm=1u

.PARAM b0=12.04       p0=9.1         p1=-33.65m     p2=55u         mubet=1.5      fbet=0
.PARAM Vth0=3.7       c=950m         Fm=80m         Fn=500m        al=500m        auth=4.2m
.PARAM dvx=550m       dvgs=-150m     auth_sub=4.2m

.PARAM Rd=236m        rpara=4.3m     nmu=3.1        Rf=200m

.PARAM lnIsj=-27      ndi=1.12       Rdi=30m        nmu2=-16.5m    n_Isj=3        UB=216
.PARAM ab=167m        ab2=0          UT=100m        lB=-23         ta=45n

.PARAM kbq=85.8u      Tref=298       T0=273

.PARAM f3=197p        rc1=60p

.PARAM f4=3.6p        f5=3p          sl=0.1p        ps1=14p        ps2=-2         ps3=10p
.PARAM ps4=-100m      ps5=0.05p      ps6=5p         ps7=0

.PARAM q83=11p        q84=-6.67m

.PARAM q80=272p       q81=45p        q82=8p         qs1=9p         qs2=35p        qs3=-2
.PARAM qs4=185p       qs5=-66.7m     f2r=0

.PARAM x1={(q80-q81)/q82}       x2={q80/q82}
.PARAM y1={(f4-f5)/sl}          y2={f4/sl}
.PARAM Vmin=2.7       Vmax=4.7       dCmax=330m
.PARAM Vth={Vth0+(Vmax-Vth0)*limit(dVth,0,1)-(Vmin-Vth0)*limit(dVth,-1,0)}
.PARAM q0={b0*((1-fbet)*(T0/Tref)**mubet+fbet)*a}
.PARAM q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM q2={(Fm*SQRT(0.4)-c)*Inn*q0}
.PARAM Rlim={((q1+2*q2*Rmax-SQRT(q1**2+4*q2))/(2*q2))/(1+rpara*(Inn/a)**2)}
.PARAM dRd={Rd/a+if(dVth==0,limit(dR,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM bm={c/((1/gmin-Rs)**2*Inn*a*((1-fbet)*(T0/Tref)**mubet+fbet))}
.PARAM bet={b0+(b0-bm)*if(dR==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM dC1={1+dCmax*limit(dC,0,1)}
.PARAM dC2={1+dCmax*limit(dC,0,1)}

.PARAM Cgs0={(f3*a+rc1)*dC1}

.PARAM Cds3={q83*a*dC1}
.PARAM Cds5={qs1*a*dC1}
.PARAM Cds6={(a*qs2*(1+f2r/sqrt(a)))*dC1}
.PARAM Cds7={qs4*a*dC1}
.PARAM Cds8={q80*a*dC1}

.PARAM Cdg1={a*ps1*dC2}
.PARAM Cdg2={ps3*a*dC2}
.PARAM Cdg3={(ps5*a+ps6)*dC2}
.PARAM Cdg4={f4*a*dC2}
.PARAM dRdi={Rdi/a}

.FUNC Ue(g,y,w)  {(g-Vth+auth*(w-Tref)+Fm*y**Fn)}
.FUNC Ue1(g,y,w) {Ue(g,y,w)+(1+limit(Ue(g,y,w)+dvx,0,1)**2*(2*limit(Ue(g,y,w)+dvx,0,1)-3))*(dvgs+(auth_sub-auth)*(w-Tref))}

.FUNC I0(Uee,p,pp,z1) {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC Ih(Uds,T,p,Uee) {bet*((1-fbet)*(T0/T)**mubet+fbet)*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC Jh(d,g,w,y,s,x) {a*((Ih(s*y+min(d,0),w,(p0+(p1+p2*w)*w)*kbq*w,Ue1(g,y,w))+exp(min(lB+(d-UB-ab*(w-Tref))/UT,24))))}

.FUNC Idiode(Usd,Tj,Iss) {exp(min(ln(Iss)+Usd/(ndi*kbq*Tj),7))-Iss}
.FUNC Idiod(Usd,Tj)      {a*Idiode(Usd,Tj,exp(min(lnIsj+(Tj/Tref-1)*1.12/(ndi*kbq*Tj),7))*(Tj/Tref)**n_Isj)}

.FUNC Pr(Vss0,Vssp)  {Vss0*Vss0/Rm+Vssp*Vssp/Rsp}
.FUNC Q01(Uds) {a*(limit(Uds,x1,x2)*(q80-q82/2*limit(Uds,x1,x2))+min(Uds-x1,0)*q81-max(x1,0)*(q80-q81)/2)}
.FUNC Q02(Udg) {a*(limit(Udg,y1,y2)*(f4-sl/2*limit(Udg,y1,y2))+min(Udg-y1,0)*f5-max(y1,0)*(f4-f5)/2)}

C_Cgs  g      s      {Cgs0}

E_Eds3 d      edep3  VALUE {if(q84==0,0,V(d,s)-(exp(q84*max(V(d,s),-1))-1)/min(q84,-1u)-min(V(d,s)+1,0)*exp(-q84))}
C_Cds3 edep3  s      {Cds3}

C_Cds5 d      sp     {Cds5}
E_Eds6 d      edep6  VALUE {if(qs3==0,0,V(d,sp)-(exp(qs3*max(V(d,sp),0))-1)/min(qs3,-1u)-min(V(d,sp),0))}
C_Cds6 edep6  sp     {Cds6}
E_Eds7 d      edep7  VALUE {if(qs5==0,0,V(d,sp)-(exp(qs5*max(V(d,sp),0))-1)/min(qs5,-1u)-min(V(d,sp),0))}
C_Cds7 edep7  sp     {Cds7}
E_Eds8 d      edep8  VALUE {V(d,sp)-Q01(V(d,sp))/Cds8}
C_Cds8 edep8  sp     {Cds8}

E_Edg1 d    ox1 VALUE {if(ps2==0,0,V(d,g)-(exp(ps2*max(V(d,g),0))-1)/min(ps2,-1u)-min(V(d,g),0))}
C_Cdg1 ox1  g   {Cdg1}
E_Edg2 d    ox2 VALUE =
+{if(ps4==0,0,V(d,g)-((exp(ps4*(max(V(d,g)+ps7,0)))-exp(ps4*max(ps7,0)))/min(ps4,-1u)+min(V(d,g)+max(ps7,0),max(0,-ps7))))}
C_Cdg2 ox2  g   {Cdg2}
C_Cdg3 d    g   {Cdg3}
E_Edg4 d    ox4 VALUE {V(d,g)-Q02(V(d,g))/Cdg4}
C_Cdg4 ox4  g   {Cdg4}

Rfp     s sp    {Rsp}

G_chan   d5a   s  VALUE={Jh(V(d5a,s),V(g,s),T0+limit(V(Tj),-200,300),(SQRT(1+4*al*max(V(d5a,s),0))-1)/2/al,sgn(V(d5a,s)),0)}
Rd06     d5a  d5  1u
V_sm     d    d5  0
G_RMos   d1    d  VALUE={V(d1,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)/(1+rpara*(I(V_sense)/a)**2)}
V_sense  dd   d1  0
G_Rdio   d2   d1  VALUE={V(d2,d1)/(dRdi*((limit(V(Tj),-200,999)+T0)/Tref)**nmu2)}
V_sense2 d2   d3  0

Dbody s d3 dbody
.model dbody D (BV= {UB*10},CJO ={Cds3/1000},TT ={ta},IS ={a*exp(lnIsj)} m={0.3} RS={dRdi*1m} n={ndi})


R1        g    s  1G
Rd01      d    s  500Meg
Rd02     d2    s  500Meg
Rd03     d1    d  1k
Rssp      g   sp  100Meg

Rmet      s    s0 {Rm}


G_TH      0   Tj  VALUE =
+{(I(V_sense)-I(V_sense2))*V(d1,d)+I(V_sm)*V(d,s)+I(V_sense2)*V(d1,s)+Pr(V(s,s0),V(s,sp))}


.ENDS

**********


.SUBCKT S3_200_n1_var dd g s0 sp Tj PARAMS: a=1 Rsp=1 dVth=0 dR=0 dgfs=0 Inn=1
+Unn=1 Rmax=1 gmin=1 Rs=1 Rp=1 dC=0 Rm=1u

.PARAM b0=12.04       p0=9.1         p1=-33.65m     p2=55u         mubet=1.5      fbet=0
.PARAM Vth0=3.7       c=950m         Fm=80m         Fn=500m        al=500m        auth=4.2m
.PARAM dvx=550m       dvgs=-150m     auth_sub=4.2m

.PARAM Rd=225m        rpara=4.3m     nmu=3.1        Rf=200m

.PARAM lnIsj=-27      ndi=1.12       Rdi=30m        nmu2=-16.5m    n_Isj=3        UB=216
.PARAM ab=167m        ab2=0          UT=100m        lB=-23         ta=45n

.PARAM kbq=85.8u      Tref=298       T0=273

.PARAM f3=197p        rc1=60p

.PARAM f4=3.6p        f5=3p          sl=0.1p        ps1=14p        ps2=-2         ps3=10p
.PARAM ps4=-100m      ps5=0.05p      ps6=5p         ps7=0

.PARAM q83=11p        q84=-6.67m

.PARAM q80=272p       q81=45p        q82=8p         qs1=9p         qs2=35p        qs3=-2
.PARAM qs4=185p       qs5=-66.7m     f2r=0

.PARAM x1={(q80-q81)/q82}       x2={q80/q82}
.PARAM y1={(f4-f5)/sl}          y2={f4/sl}
.PARAM Vmin=2.7       Vmax=4.7       dCmax=330m
.PARAM Vth={Vth0+(Vmax-Vth0)*limit(dVth,0,1)-(Vmin-Vth0)*limit(dVth,-1,0)}
.PARAM q0={b0*((1-fbet)*(T0/Tref)**mubet+fbet)*a}
.PARAM q1={(Unn-Inn*Rs-Vth0)*q0}
.PARAM q2={(Fm*SQRT(0.4)-c)*Inn*q0}
.PARAM Rlim={((q1+2*q2*Rmax-SQRT(q1**2+4*q2))/(2*q2))/(1+rpara*(Inn/a)**2)}
.PARAM dRd={Rd/a+if(dVth==0,limit(dR,0,1)*max(Rlim-Rd/a-Rs-Rp,0),0)}
.PARAM bm={c/((1/gmin-Rs)**2*Inn*a*((1-fbet)*(T0/Tref)**mubet+fbet))}
.PARAM bet={b0+(b0-bm)*if(dR==0,if(dVth==0,limit(dgfs,-1,0),0),0)}
.PARAM dC1={1+dCmax*limit(dC,0,1)}
.PARAM dC2={1+dCmax*limit(dC,0,1)}

.PARAM Cgs0={(f3*a+rc1)*dC1}

.PARAM Cds3={q83*a*dC1}
.PARAM Cds5={qs1*a*dC1}
.PARAM Cds6={(a*qs2*(1+f2r/sqrt(a)))*dC1}
.PARAM Cds7={qs4*a*dC1}
.PARAM Cds8={q80*a*dC1}

.PARAM Cdg1={a*ps1*dC2}
.PARAM Cdg2={ps3*a*dC2}
.PARAM Cdg3={(ps5*a+ps6)*dC2}
.PARAM Cdg4={f4*a*dC2}
.PARAM dRdi={Rdi/a}

.FUNC Ue(g,y,w)  {(g-Vth+auth*(w-Tref)+Fm*y**Fn)}
.FUNC Ue1(g,y,w) {Ue(g,y,w)+(1+limit(Ue(g,y,w)+dvx,0,1)**2*(2*limit(Ue(g,y,w)+dvx,0,1)-3))*(dvgs+(auth_sub-auth)*(w-Tref))}

.FUNC I0(Uee,p,pp,z1) {if(Uee>pp,(Uee-c*z1)*z1,p*(pp-p)/c*exp((Uee-pp)/p))}
.FUNC Ih(Uds,T,p,Uee) {bet*((1-fbet)*(T0/T)**mubet+fbet)*I0(Uee,p,min(2*p,p+c*Uds),min(Uds,Uee/(2*c)))}
.FUNC Jh(d,g,w,y,s,x) {a*((Ih(s*y+min(d,0),w,(p0+(p1+p2*w)*w)*kbq*w,Ue1(g,y,w))+exp(min(lB+(d-UB-ab*(w-Tref))/UT,24))))}

.FUNC Idiode(Usd,Tj,Iss) {exp(min(ln(Iss)+Usd/(ndi*kbq*Tj),7))-Iss}
.FUNC Idiod(Usd,Tj)      {a*Idiode(Usd,Tj,exp(min(lnIsj+(Tj/Tref-1)*1.12/(ndi*kbq*Tj),7))*(Tj/Tref)**n_Isj)}

.FUNC Pr(Vss0,Vssp)  {Vss0*Vss0/Rm+Vssp*Vssp/Rsp}
.FUNC Q01(Uds) {a*(limit(Uds,x1,x2)*(q80-q82/2*limit(Uds,x1,x2))+min(Uds-x1,0)*q81-max(x1,0)*(q80-q81)/2)}
.FUNC Q02(Udg) {a*(limit(Udg,y1,y2)*(f4-sl/2*limit(Udg,y1,y2))+min(Udg-y1,0)*f5-max(y1,0)*(f4-f5)/2)}

C_Cgs  g      s      {Cgs0}

E_Eds3 d      edep3  VALUE {if(q84==0,0,V(d,s)-(exp(q84*max(V(d,s),-1))-1)/min(q84,-1u)-min(V(d,s)+1,0)*exp(-q84))}
C_Cds3 edep3  s      {Cds3}

C_Cds5 d      sp     {Cds5}
E_Eds6 d      edep6  VALUE {if(qs3==0,0,V(d,sp)-(exp(qs3*max(V(d,sp),0))-1)/min(qs3,-1u)-min(V(d,sp),0))}
C_Cds6 edep6  sp     {Cds6}
E_Eds7 d      edep7  VALUE {if(qs5==0,0,V(d,sp)-(exp(qs5*max(V(d,sp),0))-1)/min(qs5,-1u)-min(V(d,sp),0))}
C_Cds7 edep7  sp     {Cds7}
E_Eds8 d      edep8  VALUE {V(d,sp)-Q01(V(d,sp))/Cds8}
C_Cds8 edep8  sp     {Cds8}

E_Edg1 d    ox1 VALUE {if(ps2==0,0,V(d,g)-(exp(ps2*max(V(d,g),0))-1)/min(ps2,-1u)-min(V(d,g),0))}
C_Cdg1 ox1  g   {Cdg1}
E_Edg2 d    ox2 VALUE =
+{if(ps4==0,0,V(d,g)-((exp(ps4*(max(V(d,g)+ps7,0)))-exp(ps4*max(ps7,0)))/min(ps4,-1u)+min(V(d,g)+max(ps7,0),max(0,-ps7))))}
C_Cdg2 ox2  g   {Cdg2}
C_Cdg3 d    g   {Cdg3}
E_Edg4 d    ox4 VALUE {V(d,g)-Q02(V(d,g))/Cdg4}
C_Cdg4 ox4  g   {Cdg4}

Rfp     s sp    {Rsp}

G_chan   d5a   s  VALUE={Jh(V(d5a,s),V(g,s),T0+limit(V(Tj),-200,300),(SQRT(1+4*al*max(V(d5a,s),0))-1)/2/al,sgn(V(d5a,s)),0)}
Rd06     d5a  d5  1u
V_sm     d    d5  0
G_RMos   d1    d  VALUE={V(d1,d)/(Rf*dRd+(1-Rf)*dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)/(1+rpara*(I(V_sense)/a)**2)}
V_sense  dd   d1  0
G_Rdio   d2   d1  VALUE={V(d2,d1)/(dRdi*((limit(V(Tj),-200,999)+T0)/Tref)**nmu2)}
V_sense2 d2   d3  0

Dbody s d3 dbody
.model dbody D (BV= {UB*10},CJO ={Cds3/1000},TT ={ta},IS ={a*exp(lnIsj)} m={0.3} RS={dRdi*1m} n={ndi})


R1        g    s  1G
Rd01      d    s  500Meg
Rd02     d2    s  500Meg
Rd03     d1    d  1k
Rssp      g   sp  100Meg

Rmet      s    s0 {Rm}


G_TH      0   Tj  VALUE =
+{(I(V_sense)-I(V_sense2))*V(d1,d)+I(V_sm)*V(d,s)+I(V_sense2)*V(d1,s)+Pr(V(s,s0),V(s,sp))}


.ENDS

**********

.SUBCKT BSC12DN20NS3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=455u      Rg=2.2       Rd=50u       Rm=289u
.PARAM Inn=5.7      Unn=10       Rmax=127m    gmin=5
.PARAM act=2.25     Rsp=0.6

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT BSC220N20NSFD_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=159u      Rg=3.7       Rd=50u       Rm=36u
.PARAM Inn=33       Unn=10       Rmax=22m     gmin=36.61
.PARAM act=13.72    Rsp=0.94

X1  d1 g s sp Tj1 S3_200_n3_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT BSC22DN20NS3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=233u      Rg=2         Rd=50u       Rm=67u
.PARAM Inn=3.5      Unn=10       Rmax=228m    gmin=3
.PARAM act=1.274    Rsp=0.49

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT BSC320N20NS3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=404u      Rg=2.4       Rd=50u       Rm=233u
.PARAM Inn=40       Unn=10       Rmax=32m     gmin=25.97
.PARAM act=8.85     Rsp=0.7

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT BSC350N20NSFD_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=555u      Rg=2.5       Rd=50u       Rm=233u
.PARAM Inn=40       Unn=10       Rmax=35m     gmin=25.98
.PARAM act=8.85     Rsp=0.7

X1  d1 g s sp Tj1 S3_200_n2_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT BSC500N20NS3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=308u      Rg=1.9       Rd=50u       Rm=142u
.PARAM Inn=23       Unn=10       Rmax=50m     gmin=16
.PARAM act=5.696    Rsp=0.49

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT BSC900N20NS3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=561u      Rg=2.4       Rd=50u       Rm=395u
.PARAM Inn=7.6      Unn=10       Rmax=90m     gmin=7
.PARAM act=3.16     Rsp=0.7

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT BSZ12DN20NS3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=361u      Rg=2.2       Rd=50u       Rm=128u
.PARAM Inn=5.7      Unn=10       Rmax=127m    gmin=5
.PARAM act=2.25     Rsp=0.6

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT BSZ22DN20NS3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=564u      Rg=2         Rd=50u       Rm=250u
.PARAM Inn=3.5      Unn=10       Rmax=228m    gmin=3
.PARAM act=1.274    Rsp=0.49

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT BSZ900N20NS3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=361u      Rg=2.4       Rd=50u       Rm=128u
.PARAM Inn=7.6      Unn=10       Rmax=90m     gmin=7
.PARAM act=3.16     Rsp=0.7

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPA320N20NM3S_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=1.05m     Rg=2.4       Rd=350u      Rm=350u
.PARAM Inn=40       Unn=10       Rmax=32m     gmin=30.53
.PARAM act=8.85     Rsp=0.7

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPB107N20N3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=878u      Rg=2.3       Rd=50u       Rm=340u
.PARAM Inn=100      Unn=10       Rmax=10.7m   gmin=65
.PARAM act=26.66    Rsp=0.65

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPB107N20NA_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=878u      Rg=2.3       Rd=50u       Rm=340u
.PARAM Inn=100      Unn=10       Rmax=10.7m   gmin=65
.PARAM act=26.66    Rsp=0.65

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPB117N20NFD_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=878u      Rg=2.4       Rd=50u       Rm=340u
.PARAM Inn=82       Unn=10       Rmax=11.7m   gmin=59.18
.PARAM act=26.66    Rsp=0.65

X1  d1 g s sp Tj1 S3_200_n1_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPB320N20N3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=1.05m     Rg=2.4       Rd=50u       Rm=350u
.PARAM Inn=40       Unn=10       Rmax=32m     gmin=25.12
.PARAM act=8.85     Rsp=0.7

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPD320N20N3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=829u      Rg=2.4       Rd=50u       Rm=350u
.PARAM Inn=40       Unn=10       Rmax=32m     gmin=25.11
.PARAM act=8.85     Rsp=0.7

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPI110N20N3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=878u      Rg=2.3       Rd=350u      Rm=340u
.PARAM Inn=100      Unn=10       Rmax=11m     gmin=65
.PARAM act=26.66    Rsp=0.65

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPI320N20N3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=1.058m    Rg=2.4       Rd=350u      Rm=350u
.PARAM Inn=40       Unn=10       Rmax=32m     gmin=25.12
.PARAM act=8.85     Rsp=0.7

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPP110N20N3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=878u      Rg=2.3       Rd=350u      Rm=340u
.PARAM Inn=100      Unn=10       Rmax=11m     gmin=65
.PARAM act=26.66    Rsp=0.65

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPP110N20NA_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=878u      Rg=2.3       Rd=350u      Rm=340u
.PARAM Inn=100      Unn=10       Rmax=11m     gmin=65
.PARAM act=26.66    Rsp=0.65

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPP120N20NFD_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=878u      Rg=2.4       Rd=350u      Rm=340u
.PARAM Inn=82       Unn=10       Rmax=12m     gmin=59.18
.PARAM act=26.66    Rsp=0.65

X1  d1 g s sp Tj1 S3_200_n1_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPP320N20N3_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=1.05m     Rg=2.4       Rd=350u      Rm=350u
.PARAM Inn=40       Unn=10       Rmax=32m     gmin=25.12
.PARAM act=8.85     Rsp=0.7

X1  d1 g s sp Tj1 S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IPT111N20NFD_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=1.5n Ld=2n Lg=3n

.PARAM Rs=192u      Rg=2.4       Rd=20u       Rm=54u
.PARAM Inn=96       Unn=10       Rmax=11.1m   gmin=69.58
.PARAM act=26.66    Rsp=0.65

X1  d1 g s sp Tj1 S3_200_n1_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IRF200P222_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=6n Ld=4n Lg=5n

.PARAM Rs=736u      Rg=1.3       Rd=91u       Rm=434u
.PARAM Inn=132      Unn=10       Rmax=28m     gmin=182
.PARAM act=53.32    Rsp=0.33

X1  d1 g s sp Tj1 S3_200_n1_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT IRF200P223_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Ls=3.5n Ld=4n Lg=5n

.PARAM Rs=302u      Rg=2.7       Rd=91u       Rm=237n
.PARAM Inn=60       Unn=10       Rmax=11.5m   gmin=93
.PARAM act=26.66    Rsp=0.65

X1  d1 g s sp Tj1 S3_200_n1_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
+Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}

Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}

E1    Tj     w    VALUE={TEMP}
Vp    Tj1    Tj   0
R1    Tj     Tj1  1u
G_power 0    Tj   VALUE={V(s1,s)*V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)+V(g,g1)*V(g,g1)/Rg+V(d1,d2)*V(d1,d2)/Rd+I(Vp)}
R2      w    0    1u

.ENDS

**********

.SUBCKT BSC12DN20NS3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=455u      Rg=2.2       Rd=50u       Rm=289u

.PARAM Inn=5.7      Unn=10       Rmax=127m    gmin=5
.PARAM act=2.25     Rsp=0.6


X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

Rth1  Tj      t1              {19.64m+limit(Zthtype,0,1)*7.27m}
Rth2  t1      t2              {148.61m+limit(Zthtype,0,1)*55m}
Rth3  t2      t3              {495.35m+limit(Zthtype,0,1)*194.53m}
Rth4  t3      t4              {643.19m+limit(Zthtype,0,1)*258.49m}
Rth5  t4      Tcase           {483.58m+limit(Zthtype,0,1)*194.34m}
Cth1  Tj      0               58.734u
Cth2  t1      0               46.195u
Cth3  t2      0               712.141u
Cth4  t3      0               396.493u
Cth5  t4      0               27.223m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT BSC220N20NSFD drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=159u      Rg=3.7       Rd=50u       Rm=36u

.PARAM Inn=33       Unn=10       Rmax=22m     gmin=36.61
.PARAM RRf=-329m    Rrbond=282u  Rtb=827m     g2=533m
.PARAM act=13.72    Rsp=0.94

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n3_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               15.36m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {3.22m+limit(Zthtype,0,1)*1.19m}
Rth2  t1      t2              {25.96m+limit(Zthtype,0,1)*9.61m}
Rth3  t2      t3              {92.05m+limit(Zthtype,0,1)*7.73m}
Rth4  t3      t4              {104.18m+limit(Zthtype,0,1)*81.91m}
Rth5  t4      Tcase           {209.46m+limit(Zthtype,0,1)*164.69m}
Cth1  Tj      0               358.149u
Cth2  t1      0               264.464u
Cth3  t2      0               3.136m
Cth4  t3      0               2.418m
Cth5  t4      0               53.079m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT BSC22DN20NS3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=233u      Rg=2         Rd=50u       Rm=67u

.PARAM Inn=3.5      Unn=10       Rmax=228m    gmin=3
.PARAM act=1.274    Rsp=0.49


X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

Rth1  Tj      t1              {34.69m+limit(Zthtype,0,1)*12.84m}
Rth2  t1      t2              {253.67m+limit(Zthtype,0,1)*93.89m}
Rth3  t2      t3              {794.4m+limit(Zthtype,0,1)*346.82m}
Rth4  t3      t4              {1.16+limit(Zthtype,0,1)*325.15m}
Rth5  t4      Tcase           {529.98m+limit(Zthtype,0,1)*148.56m}
Cth1  Tj      0               33.257u
Cth2  t1      0               27.063u
Cth3  t2      0               458.501u
Cth4  t3      0               224.503u
Cth5  t4      0               85.836m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT BSC320N20NS3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=404u      Rg=2.4       Rd=50u       Rm=233u

.PARAM Inn=40       Unn=10       Rmax=32m     gmin=25.97
.PARAM act=8.85     Rsp=0.7


X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

Rth1  Tj      t1              {4.99m+limit(Zthtype,0,1)*1.85m}
Rth2  t1      t2              {39.82m+limit(Zthtype,0,1)*14.73m}
Rth3  t2      t3              {147.24m+limit(Zthtype,0,1)*48.7m}
Rth4  t3      t4              {161.51m+limit(Zthtype,0,1)*115.05m}
Rth5  t4      Tcase           {272.21m+limit(Zthtype,0,1)*193.9m}
Cth1  Tj      0               231.022u
Cth2  t1      0               172.42u
Cth3  t2      0               2.294m
Cth4  t3      0               1.56m
Cth5  t4      0               36.38m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT BSC350N20NSFD drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=555u      Rg=2.5       Rd=50u       Rm=233u

.PARAM Inn=40       Unn=10       Rmax=35m     gmin=25.98
.PARAM act=8.85     Rsp=0.7


X1  d1 g s sp Tj S3_200_n2_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

Rth1  Tj      t1              {4.99m+limit(Zthtype,0,1)*1.85m}
Rth2  t1      t2              {39.82m+limit(Zthtype,0,1)*14.73m}
Rth3  t2      t3              {147.24m+limit(Zthtype,0,1)*48.7m}
Rth4  t3      t4              {161.51m+limit(Zthtype,0,1)*115.05m}
Rth5  t4      Tcase           {272.21m+limit(Zthtype,0,1)*193.9m}
Cth1  Tj      0               231.022u
Cth2  t1      0               172.42u
Cth3  t2      0               2.294m
Cth4  t3      0               1.56m
Cth5  t4      0               36.38m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT BSC500N20NS3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=308u      Rg=1.9       Rd=50u       Rm=142u

.PARAM Inn=23       Unn=10       Rmax=50m     gmin=16
.PARAM act=5.696    Rsp=0.49


X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

Rth1  Tj      t1              {7.76m+limit(Zthtype,0,1)*2.87m}
Rth2  t1      t2              {61.05m+limit(Zthtype,0,1)*22.59m}
Rth3  t2      t3              {217.14m+limit(Zthtype,0,1)*75.97m}
Rth4  t3      t4              {250.94m+limit(Zthtype,0,1)*135.83m}
Rth5  t4      Tcase           {341.17m+limit(Zthtype,0,1)*184.68m}
Cth1  Tj      0               148.689u
Cth2  t1      0               112.455u
Cth3  t2      0               1.576m
Cth4  t3      0               1.004m
Cth5  t4      0               28.475m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT BSC900N20NS3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=561u      Rg=2.4       Rd=50u       Rm=395u

.PARAM Inn=7.6      Unn=10       Rmax=90m     gmin=7
.PARAM act=3.16     Rsp=0.7


X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

Rth1  Tj      t1              {13.99m+limit(Zthtype,0,1)*5.17m}
Rth2  t1      t2              {107.56m+limit(Zthtype,0,1)*39.81m}
Rth3  t2      t3              {366.54m+limit(Zthtype,0,1)*137.87m}
Rth4  t3      t4              {453.89m+limit(Zthtype,0,1)*224.5m}
Rth5  t4      Tcase           {435.34m+limit(Zthtype,0,1)*215.33m}
Cth1  Tj      0               82.489u
Cth2  t1      0               63.825u
Cth3  t2      0               951.044u
Cth4  t3      0               556.852u
Cth5  t4      0               25.048m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT BSZ12DN20NS3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=361u      Rg=2.2       Rd=50u       Rm=128u

.PARAM Inn=5.7      Unn=10       Rmax=127m    gmin=5
.PARAM act=2.25     Rsp=0.6


X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

Rth1  Tj      t1              {19.64m+limit(Zthtype,0,1)*7.27m}
Rth2  t1      t2              {148.61m+limit(Zthtype,0,1)*55m}
Rth3  t2      t3              {495.35m+limit(Zthtype,0,1)*194.53m}
Rth4  t3      t4              {643.19m+limit(Zthtype,0,1)*258.49m}
Rth5  t4      Tcase           {483.58m+limit(Zthtype,0,1)*194.34m}
Cth1  Tj      0               58.734u
Cth2  t1      0               46.195u
Cth3  t2      0               712.141u
Cth4  t3      0               396.493u
Cth5  t4      0               27.223m
Cth6  Tcase   0               10m

.ENDS

**********

.SUBCKT BSZ22DN20NS3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=564u      Rg=2         Rd=50u       Rm=250u

.PARAM Inn=3.5      Unn=10       Rmax=228m    gmin=3
.PARAM act=1.274    Rsp=0.49


X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

Rth1  Tj      t1              {34.69m+limit(Zthtype,0,1)*12.84m}
Rth2  t1      t2              {253.67m+limit(Zthtype,0,1)*93.89m}
Rth3  t2      t3              {794.4m+limit(Zthtype,0,1)*346.82m}
Rth4  t3      t4              {1.16+limit(Zthtype,0,1)*325.15m}
Rth5  t4      Tcase           {529.98m+limit(Zthtype,0,1)*148.56m}
Cth1  Tj      0               33.257u
Cth2  t1      0               27.063u
Cth3  t2      0               458.501u
Cth4  t3      0               224.503u
Cth5  t4      0               85.836m
Cth6  Tcase   0               10m

.ENDS

**********

.SUBCKT BSZ900N20NS3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1n Ld=1n Lg=3n

.PARAM Rs=361u      Rg=2.4       Rd=50u       Rm=128u

.PARAM Inn=7.6      Unn=10       Rmax=90m     gmin=7
.PARAM act=3.16     Rsp=0.7


X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

Rth1  Tj      t1              {13.99m+limit(Zthtype,0,1)*5.17m}
Rth2  t1      t2              {107.56m+limit(Zthtype,0,1)*39.81m}
Rth3  t2      t3              {366.54m+limit(Zthtype,0,1)*137.87m}
Rth4  t3      t4              {453.89m+limit(Zthtype,0,1)*224.5m}
Rth5  t4      Tcase           {435.34m+limit(Zthtype,0,1)*215.33m}
Cth1  Tj      0               82.489u
Cth2  t1      0               63.825u
Cth3  t2      0               951.044u
Cth4  t3      0               556.852u
Cth5  t4      0               25.048m
Cth6  Tcase   0               10m

.ENDS

**********

.SUBCKT IPA320N20NM3S drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=1.05m     Rg=2.4       Rd=350u      Rm=350u

.PARAM Inn=40       Unn=10       Rmax=32m     gmin=30.53
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=8.85     Rsp=0.7

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {4.99m+limit(Zthtype,0,1)*1.85m}
Rth2  t1      t2              {39.82m+limit(Zthtype,0,1)*14.73m}
Rth3  t2      t3              {162.92m+limit(Zthtype,0,1)*76.69m}
Rth4  t3      t4              {925.87m+limit(Zthtype,0,1)*494.59m}
Rth5  t4      Tcase           {1.42+limit(Zthtype,0,1)*758.54m}
Cth1  Tj      0               231.022u
Cth2  t1      0               172.42u
Cth3  t2      0               2.294m
Cth4  t3      0               9.218m
Cth5  t4      0               758.748m
Cth6  Tcase   0               100m

.ENDS

**********

.SUBCKT IPB107N20N3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=878u      Rg=2.3       Rd=50u       Rm=340u

.PARAM Inn=100      Unn=10       Rmax=10.7m   gmin=65
.PARAM RRf=389m     Rrbond=16m   Rtb=6.2      g2=758m
.PARAM act=26.66    Rsp=0.65

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {1.66m+limit(Zthtype,0,1)*611.52u}
Rth2  t1      t2              {13.53m+limit(Zthtype,0,1)*5m}
Rth3  t2      t3              {57.38m+limit(Zthtype,0,1)*25.34m}
Rth4  t3      t4              {69.31m+limit(Zthtype,0,1)*43.33m}
Rth5  t4      Tcase           {174.65m+limit(Zthtype,0,1)*109.19m}
Cth1  Tj      0               695.937u
Cth2  t1      0               507.577u
Cth3  t2      0               6.372m
Cth4  t3      0               4.532m
Cth5  t4      0               134.638m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB107N20NA drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=878u      Rg=2.3       Rd=50u       Rm=340u

.PARAM Inn=100      Unn=10       Rmax=10.7m   gmin=65
.PARAM RRf=389m     Rrbond=16m   Rtb=6.2      g2=758m
.PARAM act=26.66    Rsp=0.65

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {1.66m+limit(Zthtype,0,1)*611.52u}
Rth2  t1      t2              {13.53m+limit(Zthtype,0,1)*5m}
Rth3  t2      t3              {57.38m+limit(Zthtype,0,1)*25.34m}
Rth4  t3      t4              {69.31m+limit(Zthtype,0,1)*43.33m}
Rth5  t4      Tcase           {174.65m+limit(Zthtype,0,1)*109.19m}
Cth1  Tj      0               695.937u
Cth2  t1      0               507.577u
Cth3  t2      0               6.372m
Cth4  t3      0               4.532m
Cth5  t4      0               134.638m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB117N20NFD drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1.8n Ld=1n Lg=4n

.PARAM Rs=878u      Rg=2.4       Rd=50u       Rm=340u

.PARAM Inn=82       Unn=10       Rmax=11.7m   gmin=59.18
.PARAM RRf=389m     Rrbond=16m   Rtb=6.2      g2=758m
.PARAM act=26.66    Rsp=0.65

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n1_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {1.66m+limit(Zthtype,0,1)*611.52u}
Rth2  t1      t2              {13.53m+limit(Zthtype,0,1)*5m}
Rth3  t2      t3              {57.38m+limit(Zthtype,0,1)*25.34m}
Rth4  t3      t4              {69.31m+limit(Zthtype,0,1)*43.33m}
Rth5  t4      Tcase           {174.65m+limit(Zthtype,0,1)*109.19m}
Cth1  Tj      0               695.937u
Cth2  t1      0               507.577u
Cth3  t2      0               6.372m
Cth4  t3      0               4.532m
Cth5  t4      0               134.638m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPB320N20N3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=2n Ld=1n Lg=4n

.PARAM Rs=1.05m     Rg=2.4       Rd=50u       Rm=350u

.PARAM Inn=40       Unn=10       Rmax=32m     gmin=25.12
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=8.85     Rsp=0.7

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {4.99m+limit(Zthtype,0,1)*1.85m}
Rth2  t1      t2              {39.82m+limit(Zthtype,0,1)*14.73m}
Rth3  t2      t3              {162.92m+limit(Zthtype,0,1)*76.69m}
Rth4  t3      t4              {211.64m+limit(Zthtype,0,1)*124.37m}
Rth5  t4      Tcase           {291.62m+limit(Zthtype,0,1)*171.37m}
Cth1  Tj      0               231.022u
Cth2  t1      0               172.42u
Cth3  t2      0               2.294m
Cth4  t3      0               1.504m
Cth5  t4      0               65.874m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPD320N20N3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1.5n Ld=1n Lg=3n

.PARAM Rs=829u      Rg=2.4       Rd=50u       Rm=350u

.PARAM Inn=40       Unn=10       Rmax=32m     gmin=25.11
.PARAM RRf=390m     Rrbond=12m   Rtb=5.5      g2=758m
.PARAM act=8.85     Rsp=0.7

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               3.71m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {4.99m+limit(Zthtype,0,1)*1.85m}
Rth2  t1      t2              {39.82m+limit(Zthtype,0,1)*14.73m}
Rth3  t2      t3              {162.92m+limit(Zthtype,0,1)*76.69m}
Rth4  t3      t4              {173.1m+limit(Zthtype,0,1)*137.49m}
Rth5  t4      Tcase           {272.21m+limit(Zthtype,0,1)*216.2m}
Cth1  Tj      0               231.022u
Cth2  t1      0               172.42u
Cth3  t2      0               2.294m
Cth4  t3      0               1.56m
Cth5  t4      0               36.38m
Cth6  Tcase   0               70m

.ENDS

**********

.SUBCKT IPI110N20N3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=878u      Rg=2.3       Rd=350u      Rm=340u

.PARAM Inn=100      Unn=10       Rmax=11m     gmin=65
.PARAM RRf=389m     Rrbond=16m   Rtb=6.2      g2=758m
.PARAM act=26.66    Rsp=0.65

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {1.66m+limit(Zthtype,0,1)*611.52u}
Rth2  t1      t2              {13.53m+limit(Zthtype,0,1)*5m}
Rth3  t2      t3              {57.38m+limit(Zthtype,0,1)*25.34m}
Rth4  t3      t4              {69.31m+limit(Zthtype,0,1)*43.33m}
Rth5  t4      Tcase           {174.65m+limit(Zthtype,0,1)*109.19m}
Cth1  Tj      0               695.937u
Cth2  t1      0               507.577u
Cth3  t2      0               6.372m
Cth4  t3      0               4.532m
Cth5  t4      0               134.638m
Cth6  Tcase   0               190m

.ENDS

**********

.SUBCKT IPI320N20N3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=1.058m    Rg=2.4       Rd=350u      Rm=350u

.PARAM Inn=40       Unn=10       Rmax=32m     gmin=25.12
.PARAM RRf=452m     Rrbond=0.036 Rtb=9.4      g2=827m
.PARAM act=8.85     Rsp=0.7

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.341m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {4.99m+limit(Zthtype,0,1)*1.85m}
Rth2  t1      t2              {39.82m+limit(Zthtype,0,1)*14.73m}
Rth3  t2      t3              {162.92m+limit(Zthtype,0,1)*76.69m}
Rth4  t3      t4              {211.64m+limit(Zthtype,0,1)*124.37m}
Rth5  t4      Tcase           {291.62m+limit(Zthtype,0,1)*171.37m}
Cth1  Tj      0               231.022u
Cth2  t1      0               172.42u
Cth3  t2      0               2.294m
Cth4  t3      0               1.504m
Cth5  t4      0               65.874m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPP110N20N3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=878u      Rg=2.3       Rd=350u      Rm=340u

.PARAM Inn=100      Unn=10       Rmax=11m     gmin=65
.PARAM RRf=389m     Rrbond=16m   Rtb=6.2      g2=758m
.PARAM act=26.66    Rsp=0.65

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {1.66m+limit(Zthtype,0,1)*611.52u}
Rth2  t1      t2              {13.53m+limit(Zthtype,0,1)*5m}
Rth3  t2      t3              {57.38m+limit(Zthtype,0,1)*25.34m}
Rth4  t3      t4              {69.31m+limit(Zthtype,0,1)*43.33m}
Rth5  t4      Tcase           {174.65m+limit(Zthtype,0,1)*109.19m}
Cth1  Tj      0               695.937u
Cth2  t1      0               507.577u
Cth3  t2      0               6.372m
Cth4  t3      0               4.532m
Cth5  t4      0               134.638m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPP110N20NA drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=878u      Rg=2.3       Rd=350u      Rm=340u

.PARAM Inn=100      Unn=10       Rmax=11m     gmin=65
.PARAM RRf=389m     Rrbond=16m   Rtb=6.2      g2=758m
.PARAM act=26.66    Rsp=0.65

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {1.66m+limit(Zthtype,0,1)*611.52u}
Rth2  t1      t2              {13.53m+limit(Zthtype,0,1)*5m}
Rth3  t2      t3              {57.38m+limit(Zthtype,0,1)*25.34m}
Rth4  t3      t4              {69.31m+limit(Zthtype,0,1)*43.33m}
Rth5  t4      Tcase           {174.65m+limit(Zthtype,0,1)*109.19m}
Cth1  Tj      0               695.937u
Cth2  t1      0               507.577u
Cth3  t2      0               6.372m
Cth4  t3      0               4.532m
Cth5  t4      0               134.638m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPP120N20NFD drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1.8n Ld=2.5n Lg=4n

.PARAM Rs=878u      Rg=2.4       Rd=350u      Rm=340u

.PARAM Inn=82       Unn=10       Rmax=12m     gmin=59.18
.PARAM RRf=389m     Rrbond=16m   Rtb=6.2      g2=758m
.PARAM act=26.66    Rsp=0.65

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n1_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {1.66m+limit(Zthtype,0,1)*611.52u}
Rth2  t1      t2              {13.53m+limit(Zthtype,0,1)*5m}
Rth3  t2      t3              {57.38m+limit(Zthtype,0,1)*25.34m}
Rth4  t3      t4              {69.31m+limit(Zthtype,0,1)*43.33m}
Rth5  t4      Tcase           {174.65m+limit(Zthtype,0,1)*109.19m}
Cth1  Tj      0               695.937u
Cth2  t1      0               507.577u
Cth3  t2      0               6.372m
Cth4  t3      0               4.532m
Cth5  t4      0               134.638m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPP320N20N3 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=2n Ld=2.5n Lg=4n

.PARAM Rs=1.05m     Rg=2.4       Rd=350u      Rm=350u

.PARAM Inn=40       Unn=10       Rmax=32m     gmin=25.12
.PARAM RRf=451m     Rrbond=35m   Rtb=9.3      g2=824m
.PARAM act=8.85     Rsp=0.7

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               6.24m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {4.99m+limit(Zthtype,0,1)*1.85m}
Rth2  t1      t2              {39.82m+limit(Zthtype,0,1)*14.73m}
Rth3  t2      t3              {162.92m+limit(Zthtype,0,1)*76.69m}
Rth4  t3      t4              {211.64m+limit(Zthtype,0,1)*124.37m}
Rth5  t4      Tcase           {291.62m+limit(Zthtype,0,1)*171.37m}
Cth1  Tj      0               231.022u
Cth2  t1      0               172.42u
Cth3  t2      0               2.294m
Cth4  t3      0               1.504m
Cth5  t4      0               65.874m
Cth6  Tcase   0               220m

.ENDS

**********

.SUBCKT IPT111N20NFD drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=1.5n Ld=2n Lg=3n

.PARAM Rs=192u      Rg=2.4       Rd=20u       Rm=54u

.PARAM Inn=96       Unn=10       Rmax=11.1m   gmin=69.58
.PARAM RRf=500m     Rrbond=3m    Rtb=2.6      g2=999m
.PARAM act=26.66    Rsp=0.65

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n1_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               10.97m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {1.66m+limit(Zthtype,0,1)*611.52u}
Rth2  t1      t2              {13.53m+limit(Zthtype,0,1)*5m}
Rth3  t2      t3              {49.14m+limit(Zthtype,0,1)*6.77m}
Rth4  t3      t4              {53.61m+limit(Zthtype,0,1)*41.48m}
Rth5  t4      Tcase           {128.65m+limit(Zthtype,0,1)*99.55m}
Cth1  Tj      0               695.937u
Cth2  t1      0               507.577u
Cth3  t2      0               6.066m
Cth4  t3      0               4.698m
Cth5  t4      0               115m
Cth6  Tcase   0               30m

.ENDS

**********

.SUBCKT IRF200P222 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=6n Ld=4n Lg=5n

.PARAM Rs=736u      Rg=1.3       Rd=91u       Rm=434u

.PARAM Inn=132      Unn=10       Rmax=28m     gmin=182
.PARAM RRf=438m     Rrbond=8m    Rtb=4.3      g2=662m
.PARAM act=53.32    Rsp=0.33

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n1_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {828.8u+limit(Zthtype,0,1)*306.73u}
Rth2  t1      t2              {6.83m+limit(Zthtype,0,1)*2.52m}
Rth3  t2      t3              {27.33m+limit(Zthtype,0,1)*9.55m}
Rth4  t3      t4              {26.81m+limit(Zthtype,0,1)*348.42m}
Rth5  t4      Tcase           {62.69m+limit(Zthtype,0,1)*814.71m}
Cth1  Tj      0               1.392m
Cth2  t1      0               1.006m
Cth3  t2      0               12.518m
Cth4  t3      0               9.396m
Cth5  t4      0               3m
Cth6  Tcase   0               2m

.ENDS

**********

.SUBCKT IRF200P223 drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 Ls=3.5n Ld=4n Lg=5n

.PARAM Rs=302u      Rg=2.7       Rd=91u       Rm=237n

.PARAM Inn=60       Unn=10       Rmax=11.5m   gmin=93
.PARAM RRf=438m     Rrbond=8m    Rtb=4.3      g2=662m
.PARAM act=26.66    Rsp=0.65

.FUNC   Pb(I,dT,Rb)  {Rb/(2*Rtb)*(I-limit(dT/(max(I,1n)*Rb)+RRf*I*g2,0,I))**2}

X1  d1 g s sp Tj S3_200_n1_var PARAMS: a={act} Rsp={Rsp} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn}
                                        +Rmax={Rmax} gmin={gmin} Rs={Rs} Rp={Rd} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}
Lg    gate   g1   {Lg*if(dgfs==99,0,1)}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*4m)-Rm)}
Rsa   s1     s    1Meg
Ls    source s1   {Ls*if(dgfs==99,0,1)}
Rda   d1     d2   {Rd}
Ld    drain  d2   {Ld*if(dgfs==99,0,1)}
Rsb   source s1    10
Rga   gate   g1    10
Rdb   drain  d2    10

G_TH  0    Tb  VALUE =  {Pb(abs(I(Ls)),V(Tj,Tcase),Rrbond*(1+(limit((V(Tb)+V(Tj))/2,-200,999)-25)*4m))}
Cthb  Tb      0               9.36m
Rthb  Tb      Tj              {Rtb}
Rth1  Tj      t1              {11.05m+limit(Zthtype,0,1)*4.09m}
Rth2  t1      t2              {58.17m+limit(Zthtype,0,1)*21.53m}
Rth3  t2      t3              {46.67m+limit(Zthtype,0,1)*5.34m}
Rth4  t3      t4              {143.3m+limit(Zthtype,0,1)*52.23m}
Rth5  t4      Tcase           {100.86m+limit(Zthtype,0,1)*36.76m}
Cth1  Tj      0               2.95m
Cth2  t1      0               3.93m
Cth3  t2      0               543.688u
Cth4  t3      0               25.67m
Cth5  t4      0               243.898m
Cth6  Tcase   0               2m

.ENDS

**********

.SUBCKT BSC12DN20NS3_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   1n
Ls     source s1   1n
Rs     s1     s2   455u

Rg     g1     g2   2.2

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=27.9  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    66.72m  TC=17m
.MODEL MVDR NMOS  (KP=32.18  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.22n  VJ=0.9V)
Rsp     s2    s3     0.6
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=0.45n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=4.3p  N=1.12  RS=0.22u  EG=1.12  TT=120n)
Rdiode  d1  21    13.33m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.07n
.MODEL     DGD    D(M=0.8  CJO=0.07n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    0.45n

.ENDS BSC12DN20NS3_L0

*****************

.SUBCKT BSC220N20NSFD_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   1n
Ls     source s1   1n
Rs     s1     s2   159u

Rg     g1     g2   3.7

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=170.1  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    11.42m  TC=17m
.MODEL MVDR NMOS  (KP=196.2  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=1.37n  VJ=0.9V)
Rsp     s2    s3     0.94
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=2.74n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=26.1p  N=1.12  RS=0.04u  EG=1.12  TT=85n)
Rdiode  d1  21    2.19m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.41n
.MODEL     DGD    D(M=0.8  CJO=0.41n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    2.74n

.ENDS BSC220N20NSFD_L0

*****************

.SUBCKT BSC22DN20NS3_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   1n
Ls     source s1   1n
Rs     s1     s2   233u

Rg     g1     g2   2

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=15.8  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    117.79m  TC=17m
.MODEL MVDR NMOS  (KP=18.22  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.13n  VJ=0.9V)
Rsp     s2    s3     0.49
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=0.25n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=2.4p  N=1.12  RS=0.39u  EG=1.12  TT=120n)
Rdiode  d1  21    23.55m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.04n
.MODEL     DGD    D(M=0.8  CJO=0.04n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    0.25n

.ENDS BSC22DN20NS3_L0

*****************

.SUBCKT BSC320N20NS3_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   1n
Ls     source s1   1n
Rs     s1     s2   404u

Rg     g1     g2   2.4

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=109.7  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    17m  TC=17m
.MODEL MVDR NMOS  (KP=126.56  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.88n  VJ=0.9V)
Rsp     s2    s3     0.7
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=1.77n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=16.8p  N=1.12  RS=0.06u  EG=1.12  TT=120n)
Rdiode  d1  21    3.39m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.27n
.MODEL     DGD    D(M=0.8  CJO=0.27n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.77n

.ENDS BSC320N20NS3_L0

*****************

.SUBCKT BSC350N20NSFD_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   1n
Ls     source s1   1n
Rs     s1     s2   555u

Rg     g1     g2   2.5

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=109.7  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    20.5m  TC=17m
.MODEL MVDR NMOS  (KP=126.56  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.88n  VJ=0.9V)
Rsp     s2    s3     0.7
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=1.77n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=16.8p  N=1.12  RS=0.06u  EG=1.12  TT=85n)
Rdiode  d1  21    3.39m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.27n
.MODEL     DGD    D(M=0.8  CJO=0.27n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.77n

.ENDS BSC350N20NSFD_L0

*****************

.SUBCKT BSC500N20NS3_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   1n
Ls     source s1   1n
Rs     s1     s2   308u

Rg     g1     g2   1.9

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=70.6  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    26.38m  TC=17m
.MODEL MVDR NMOS  (KP=81.45  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.57n  VJ=0.9V)
Rsp     s2    s3     0.49
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=1.14n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=10.8p  N=1.12  RS=0.09u  EG=1.12  TT=120n)
Rdiode  d1  21    5.27m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.17n
.MODEL     DGD    D(M=0.8  CJO=0.17n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.14n

.ENDS BSC500N20NS3_L0

*****************

.SUBCKT BSC900N20NS3_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   1n
Ls     source s1   1n
Rs     s1     s2   561u

Rg     g1     g2   2.4

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=39.2  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    47.52m  TC=17m
.MODEL MVDR NMOS  (KP=45.19  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.32n  VJ=0.9V)
Rsp     s2    s3     0.7
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=0.63n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=6p  N=1.12  RS=0.16u  EG=1.12  TT=120n)
Rdiode  d1  21    9.49m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.09n
.MODEL     DGD    D(M=0.8  CJO=0.09n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    0.63n

.ENDS BSC900N20NS3_L0

*****************

.SUBCKT BSZ12DN20NS3_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   1n
Ls     source s1   1n
Rs     s1     s2   361u

Rg     g1     g2   2.2

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=27.9  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    66.72m  TC=17m
.MODEL MVDR NMOS  (KP=32.18  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.22n  VJ=0.9V)
Rsp     s2    s3     0.6
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=0.45n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=4.3p  N=1.12  RS=0.22u  EG=1.12  TT=120n)
Rdiode  d1  21    13.33m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.07n
.MODEL     DGD    D(M=0.8  CJO=0.07n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    0.45n

.ENDS BSZ12DN20NS3_L0

*****************

.SUBCKT BSZ22DN20NS3_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   1n
Ls     source s1   1n
Rs     s1     s2   564u

Rg     g1     g2   2

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=15.8  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    117.79m  TC=17m
.MODEL MVDR NMOS  (KP=18.22  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.13n  VJ=0.9V)
Rsp     s2    s3     0.49
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=0.25n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=2.4p  N=1.12  RS=0.39u  EG=1.12  TT=120n)
Rdiode  d1  21    23.55m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.04n
.MODEL     DGD    D(M=0.8  CJO=0.04n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    0.25n

.ENDS BSZ22DN20NS3_L0

*****************

.SUBCKT BSZ900N20NS3_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   1n
Ls     source s1   1n
Rs     s1     s2   361u

Rg     g1     g2   2.4

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=39.2  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    47.52m  TC=17m
.MODEL MVDR NMOS  (KP=45.19  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.32n  VJ=0.9V)
Rsp     s2    s3     0.7
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=0.63n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=6p  N=1.12  RS=0.16u  EG=1.12  TT=120n)
Rdiode  d1  21    9.49m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.09n
.MODEL     DGD    D(M=0.8  CJO=0.09n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    0.63n

.ENDS BSZ900N20NS3_L0

*****************

.SUBCKT IPA320N20NM3S_L0 drain gate source

Lg     gate   g1   4n
Ld     drain  d1   2.5n
Ls     source s1   2n
Rs     s1     s2   1.05m

Rg     g1     g2   2.4

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=109.7  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    17.3m  TC=17m
.MODEL MVDR NMOS  (KP=126.56  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.88n  VJ=0.9V)
Rsp     s2    s3     0.7
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=1.77n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=16.8p  N=1.12  RS=0.06u  EG=1.12  TT=120n)
Rdiode  d1  21    3.39m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.27n
.MODEL     DGD    D(M=0.8  CJO=0.27n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.77n

.ENDS IPA320N20NM3S_L0

*****************

.SUBCKT IPB107N20N3_L0 drain gate source

Lg     gate   g1   4n
Ld     drain  d1   1n
Ls     source s1   1.8n
Rs     s1     s2   878u

Rg     g1     g2   2.3

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=330.6  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    5.68m  TC=17m
.MODEL MVDR NMOS  (KP=381.24  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=2.67n  VJ=0.9V)
Rsp     s2    s3     0.65
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=5.33n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=50.7p  N=1.12  RS=0.02u  EG=1.12  TT=120n)
Rdiode  d1  21    1.13m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.8n
.MODEL     DGD    D(M=0.8  CJO=0.8n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.33n

.ENDS IPB107N20N3_L0

*****************

.SUBCKT IPB107N20NA_L0 drain gate source

Lg     gate   g1   4n
Ld     drain  d1   1n
Ls     source s1   1.8n
Rs     s1     s2   878u

Rg     g1     g2   2.3

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=330.6  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    5.68m  TC=17m
.MODEL MVDR NMOS  (KP=381.24  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=2.67n  VJ=0.9V)
Rsp     s2    s3     0.65
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=5.33n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=50.7p  N=1.12  RS=0.02u  EG=1.12  TT=120n)
Rdiode  d1  21    1.13m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.8n
.MODEL     DGD    D(M=0.8  CJO=0.8n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.33n

.ENDS IPB107N20NA_L0

*****************

.SUBCKT IPB117N20NFD_L0 drain gate source

Lg     gate   g1   4n
Ld     drain  d1   1n
Ls     source s1   1.8n
Rs     s1     s2   878u

Rg     g1     g2   2.4

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=330.6  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    6.43m  TC=17m
.MODEL MVDR NMOS  (KP=381.24  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=2.67n  VJ=0.9V)
Rsp     s2    s3     0.65
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=5.33n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=50.7p  N=1.12  RS=0.02u  EG=1.12  TT=85n)
Rdiode  d1  21    1.13m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.8n
.MODEL     DGD    D(M=0.8  CJO=0.8n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.33n

.ENDS IPB117N20NFD_L0

*****************

.SUBCKT IPB320N20N3_L0 drain gate source

Lg     gate   g1   4n
Ld     drain  d1   1n
Ls     source s1   2n
Rs     s1     s2   1.05m

Rg     g1     g2   2.4

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=109.7  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    17m  TC=17m
.MODEL MVDR NMOS  (KP=126.56  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.88n  VJ=0.9V)
Rsp     s2    s3     0.7
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=1.77n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=16.8p  N=1.12  RS=0.06u  EG=1.12  TT=120n)
Rdiode  d1  21    3.39m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.27n
.MODEL     DGD    D(M=0.8  CJO=0.27n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.77n

.ENDS IPB320N20N3_L0

*****************

.SUBCKT IPD320N20N3_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   1n
Ls     source s1   1.5n
Rs     s1     s2   829u

Rg     g1     g2   2.4

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=109.7  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    17m  TC=17m
.MODEL MVDR NMOS  (KP=126.56  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.88n  VJ=0.9V)
Rsp     s2    s3     0.7
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=1.77n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=16.8p  N=1.12  RS=0.06u  EG=1.12  TT=120n)
Rdiode  d1  21    3.39m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.27n
.MODEL     DGD    D(M=0.8  CJO=0.27n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.77n

.ENDS IPD320N20N3_L0

*****************

.SUBCKT IPI110N20N3_L0 drain gate source

Lg     gate   g1   4n
Ld     drain  d1   2.5n
Ls     source s1   1.8n
Rs     s1     s2   878u

Rg     g1     g2   2.3

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=330.6  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    5.98m  TC=17m
.MODEL MVDR NMOS  (KP=381.24  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=2.67n  VJ=0.9V)
Rsp     s2    s3     0.65
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=5.33n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=50.7p  N=1.12  RS=0.02u  EG=1.12  TT=120n)
Rdiode  d1  21    1.13m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.8n
.MODEL     DGD    D(M=0.8  CJO=0.8n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.33n

.ENDS IPI110N20N3_L0

*****************

.SUBCKT IPI320N20N3_L0 drain gate source

Lg     gate   g1   4n
Ld     drain  d1   2.5n
Ls     source s1   2n
Rs     s1     s2   1.058m

Rg     g1     g2   2.4

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=109.7  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    17.3m  TC=17m
.MODEL MVDR NMOS  (KP=126.56  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.88n  VJ=0.9V)
Rsp     s2    s3     0.7
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=1.77n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=16.8p  N=1.12  RS=0.06u  EG=1.12  TT=120n)
Rdiode  d1  21    3.39m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.27n
.MODEL     DGD    D(M=0.8  CJO=0.27n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.77n

.ENDS IPI320N20N3_L0

*****************

.SUBCKT IPP110N20N3_L0 drain gate source

Lg     gate   g1   4n
Ld     drain  d1   2.5n
Ls     source s1   1.8n
Rs     s1     s2   878u

Rg     g1     g2   2.3

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=330.6  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    5.98m  TC=17m
.MODEL MVDR NMOS  (KP=381.24  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=2.67n  VJ=0.9V)
Rsp     s2    s3     0.65
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=5.33n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=50.7p  N=1.12  RS=0.02u  EG=1.12  TT=120n)
Rdiode  d1  21    1.13m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.8n
.MODEL     DGD    D(M=0.8  CJO=0.8n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.33n

.ENDS IPP110N20N3_L0

*****************

.SUBCKT IPP110N20NA_L0 drain gate source

Lg     gate   g1   4n
Ld     drain  d1   2.5n
Ls     source s1   1.8n
Rs     s1     s2   878u

Rg     g1     g2   2.3

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=330.6  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    5.98m  TC=17m
.MODEL MVDR NMOS  (KP=381.24  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=2.67n  VJ=0.9V)
Rsp     s2    s3     0.65
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=5.33n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=50.7p  N=1.12  RS=0.02u  EG=1.12  TT=120n)
Rdiode  d1  21    1.13m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.8n
.MODEL     DGD    D(M=0.8  CJO=0.8n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.33n

.ENDS IPP110N20NA_L0

*****************

.SUBCKT IPP120N20NFD_L0 drain gate source

Lg     gate   g1   4n
Ld     drain  d1   2.5n
Ls     source s1   1.8n
Rs     s1     s2   878u

Rg     g1     g2   2.4

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=330.6  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    6.73m  TC=17m
.MODEL MVDR NMOS  (KP=381.24  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=2.67n  VJ=0.9V)
Rsp     s2    s3     0.65
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=5.33n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=50.7p  N=1.12  RS=0.02u  EG=1.12  TT=85n)
Rdiode  d1  21    1.13m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.8n
.MODEL     DGD    D(M=0.8  CJO=0.8n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.33n

.ENDS IPP120N20NFD_L0

*****************

.SUBCKT IPP320N20N3_L0 drain gate source

Lg     gate   g1   4n
Ld     drain  d1   2.5n
Ls     source s1   2n
Rs     s1     s2   1.05m

Rg     g1     g2   2.4

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=109.7  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    17.3m  TC=17m
.MODEL MVDR NMOS  (KP=126.56  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=0.88n  VJ=0.9V)
Rsp     s2    s3     0.7
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=1.77n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=16.8p  N=1.12  RS=0.06u  EG=1.12  TT=120n)
Rdiode  d1  21    3.39m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.27n
.MODEL     DGD    D(M=0.8  CJO=0.27n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    1.77n

.ENDS IPP320N20N3_L0

*****************

.SUBCKT IPT111N20NFD_L0 drain gate source

Lg     gate   g1   3n
Ld     drain  d1   2n
Ls     source s1   1.5n
Rs     s1     s2   192u

Rg     g1     g2   2.4

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=330.6  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    6.4m  TC=17m
.MODEL MVDR NMOS  (KP=381.24  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=2.67n  VJ=0.9V)
Rsp     s2    s3     0.65
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=5.33n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=50.7p  N=1.12  RS=0.02u  EG=1.12  TT=85n)
Rdiode  d1  21    1.13m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.8n
.MODEL     DGD    D(M=0.8  CJO=0.8n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.33n

.ENDS IPT111N20NFD_L0

*****************

.SUBCKT IRF200P222_L0 drain gate source

Lg     gate   g1   5n
Ld     drain  d1   4n
Ls     source s1   6n
Rs     s1     s2   736u

Rg     g1     g2   1.3

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=661.2  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    3.28m  TC=17m
.MODEL MVDR NMOS  (KP=762.48  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=5.33n  VJ=0.9V)
Rsp     s2    s3     0.33
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=10.66n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=101.3p  N=1.12  RS=0.01u  EG=1.12  TT=85n)
Rdiode  d1  21    0.56m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.6n
.MODEL     DGD    D(M=0.8  CJO=1.6n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    10.66n

.ENDS IRF200P222_L0

*****************

.SUBCKT IRF200P223_L0 drain gate source

Lg     gate   g1   5n
Ld     drain  d1   4n
Ls     source s1   3.5n
Rs     s1     s2   302u

Rg     g1     g2   2.7

M1     d2     g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS NMOS ( KP=330.6  VTO=3.9  THETA=0  VMAX=1.5e5  ETA=0.004  LEVEL=3)
Rd     d1a   d2    6.47m  TC=17m
.MODEL MVDR NMOS  (KP=381.24  VTO=-1  LAMBDA=0.25)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m

Dbd     s2    d2    Dbt
.MODEL     Dbt    D(BV=217  M=0.45  CJO=2.67n  VJ=0.9V)
Rsp     s2    s3     0.65
Dbd1    s3    d2     Dbt1
.MODEL     Dbt1    D(BV=1000   M=0.45  CJO=5.33n  VJ=0.9V)
Dbody   s2   21    DBODY
.MODEL DBODY  D(IS=50.7p  N=1.12  RS=0.02u  EG=1.12  TT=85n)
Rdiode  d1  21    1.13m  TC=3m

.MODEL   sw    NMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   0.8n
.MODEL     DGD    D(M=0.8  CJO=0.8n  VJ=0.5)
Rpar      b    d2   1Meg
Dgd       a    d2   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2    5.33n

.ENDS IRF200P223_L0

*****************


